import{s as st,o as it,k as at}from"../chunks/CSLc78ll.js";import{S as ut,i as ft,c as ct,s as X,h as M,a as ht,b as J,j as S,o as F,f as O,l as P,m as lt,d as H,t as pt,e as dt,g as yt,y as bt,r as q}from"../chunks/44WAvM-d.js";import{e as $}from"../chunks/D6YF6ztN.js";import{N as mt}from"../chunks/Dbxg-Sev.js";var C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var z={exports:{}};(function(o,n){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof C<"u"&&C,p=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(u){var i=typeof a<"u"&&a||typeof self<"u"&&self||typeof C<"u"&&C||{},f={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function l(t){return t&&DataView.prototype.isPrototypeOf(t)}if(f.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function A(t){return typeof t!="string"&&(t=String(t)),t}function T(t){var e={next:function(){var d=t.shift();return{done:d===void 0,value:d}}};return f.iterable&&(e[Symbol.iterator]=function(){return e}),e}function b(t){this.map={},t instanceof b?t.forEach(function(e,d){this.append(d,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}b.prototype.append=function(t,e){t=c(t),e=A(e);var d=this.map[t];this.map[t]=d?d+", "+e:e},b.prototype.delete=function(t){delete this.map[c(t)]},b.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},b.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},b.prototype.set=function(t,e){this.map[c(t)]=A(e)},b.prototype.forEach=function(t,e){for(var d in this.map)this.map.hasOwnProperty(d)&&t.call(e,this.map[d],d,this)},b.prototype.keys=function(){var t=[];return this.forEach(function(e,d){t.push(d)}),T(t)},b.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),T(t)},b.prototype.entries=function(){var t=[];return this.forEach(function(e,d){t.push([d,e])}),T(t)},f.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function h(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function D(t){return new Promise(function(e,d){t.onload=function(){e(t.result)},t.onerror=function(){d(t.error)}})}function Q(t){var e=new FileReader,d=D(e);return e.readAsArrayBuffer(t),d}function W(t){var e=new FileReader,d=D(e),m=/charset=([A-Za-z0-9_-]+)/.exec(t.type),v=m?m[1]:"utf-8";return e.readAsText(t,v),d}function Y(t){for(var e=new Uint8Array(t),d=new Array(e.length),m=0;m<e.length;m++)d[m]=String.fromCharCode(e[m]);return d.join("")}function k(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:f.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:f.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():f.arrayBuffer&&f.blob&&l(t)?(this._bodyArrayBuffer=k(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||w(t))?this._bodyArrayBuffer=k(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=h(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(f.blob)return this.blob().then(Q);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return W(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(rt)}),this.json=function(){return this.text().then(JSON.parse)},this}var tt=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function et(t){var e=t.toUpperCase();return tt.indexOf(e)>-1?e:t}function B(t,e){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var d=e.body;if(t instanceof B){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new b(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!d&&t._bodyInit!=null&&(d=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new b(e.headers)),this.method=et(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in i){var y=new AbortController;return y.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(d),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var m=/([?&])_=[^&]*/;if(m.test(this.url))this.url=this.url.replace(m,"$1_="+new Date().getTime());else{var v=/\?/;this.url+=(v.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function rt(t){var e=new FormData;return t.trim().split("&").forEach(function(d){if(d){var m=d.split("="),v=m.shift().replace(/\+/g," "),y=m.join("=").replace(/\+/g," ");e.append(decodeURIComponent(v),decodeURIComponent(y))}}),e}function nt(t){var e=new b,d=t.replace(/\r?\n[\t ]+/g," ");return d.split("\r").map(function(m){return m.indexOf(`
`)===0?m.substr(1,m.length):m}).forEach(function(m){var v=m.split(":"),y=v.shift().trim();if(y){var R=v.join(":").trim();try{e.append(y,R)}catch(I){console.warn("Response "+I.message)}}}),e}L.call(B.prototype);function E(t,e){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new b(e.headers),this.url=e.url||"",this._initBody(t)}L.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var ot=[301,302,303,307,308];E.redirect=function(t,e){if(ot.indexOf(e)===-1)throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})},u.DOMException=i.DOMException;try{new u.DOMException}catch{u.DOMException=function(e,d){this.message=e,this.name=d;var m=Error(e);this.stack=m.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function x(t,e){return new Promise(function(d,m){var v=new B(t,e);if(v.signal&&v.signal.aborted)return m(new u.DOMException("Aborted","AbortError"));var y=new XMLHttpRequest;function R(){y.abort()}y.onload=function(){var _={statusText:y.statusText,headers:nt(y.getAllResponseHeaders()||"")};v.url.indexOf("file://")===0&&(y.status<200||y.status>599)?_.status=200:_.status=y.status,_.url="responseURL"in y?y.responseURL:_.headers.get("X-Request-URL");var j="response"in y?y.response:y.responseText;setTimeout(function(){d(new E(j,_))},0)},y.onerror=function(){setTimeout(function(){m(new TypeError("Network request failed"))},0)},y.ontimeout=function(){setTimeout(function(){m(new TypeError("Network request timed out"))},0)},y.onabort=function(){setTimeout(function(){m(new u.DOMException("Aborted","AbortError"))},0)};function I(_){try{return _===""&&i.location.href?i.location.href:_}catch{return _}}if(y.open(v.method,I(v.url),!0),v.credentials==="include"?y.withCredentials=!0:v.credentials==="omit"&&(y.withCredentials=!1),"responseType"in y&&(f.blob?y.responseType="blob":f.arrayBuffer&&(y.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof b||i.Headers&&e.headers instanceof i.Headers)){var N=[];Object.getOwnPropertyNames(e.headers).forEach(function(_){N.push(c(_)),y.setRequestHeader(_,A(e.headers[_]))}),v.headers.forEach(function(_,j){N.indexOf(j)===-1&&y.setRequestHeader(j,_)})}else v.headers.forEach(function(_,j){y.setRequestHeader(j,_)});v.signal&&(v.signal.addEventListener("abort",R),y.onreadystatechange=function(){y.readyState===4&&v.signal.removeEventListener("abort",R)}),y.send(typeof v._bodyInit>"u"?null:v._bodyInit)})}return x.polyfill=!0,i.fetch||(i.fetch=x,i.Headers=b,i.Request=B,i.Response=E),u.Headers=b,u.Request=B,u.Response=E,u.fetch=x,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(p),p.fetch.ponyfill=!0,delete p.fetch.polyfill;var s=r.fetch?r:p;n=s.fetch,n.default=s.fetch,n.fetch=s.fetch,n.Headers=s.Headers,n.Request=s.Request,n.Response=s.Response,o.exports=n})(z,z.exports);var vt=z.exports;const gt=Z(vt);class wt{constructor(n){n&&console.error(["No arguments accepted to npyjs constructor.","For usage, go to https://github.com/jhuapl-boss/npyjs."].join(" ")),this.dtypes={"<u1":{name:"uint8",size:8,arrayConstructor:Uint8Array},"|u1":{name:"uint8",size:8,arrayConstructor:Uint8Array},"<u2":{name:"uint16",size:16,arrayConstructor:Uint16Array},"|i1":{name:"int8",size:8,arrayConstructor:Int8Array},"<i2":{name:"int16",size:16,arrayConstructor:Int16Array},"<u4":{name:"uint32",size:32,arrayConstructor:Int32Array},"<i4":{name:"int32",size:32,arrayConstructor:Int32Array},"<u8":{name:"uint64",size:64,arrayConstructor:BigUint64Array},"<i8":{name:"int64",size:64,arrayConstructor:BigInt64Array},"<f4":{name:"float32",size:32,arrayConstructor:Float32Array},"<f8":{name:"float64",size:64,arrayConstructor:Float64Array}}}parse(n){const r=new DataView(n.slice(8,10)).getUint8(0),p=10+r,s=new TextDecoder("utf-8").decode(new Uint8Array(n.slice(10,10+r))),a=JSON.parse(s.toLowerCase().replace(/'/g,'"').replace("(","[").replace(/,*\),*/g,"]")),u=a.shape,i=this.dtypes[a.descr],f=new i.arrayConstructor(n,p);return{dtype:i.name,data:f,shape:u,fortranOrder:a.fortran_order}}async load(n,r,p){p=p||{};let s;n instanceof ArrayBuffer?s=n:s=await(await gt(n,{...p})).arrayBuffer();const a=this.parse(s);return r?r(a):a}}function _t(o){for(var n=new Array(o),r=0;r<o;++r)n[r]=r;return n}var At=_t;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Et=function(o){return o!=null&&(K(o)||Tt(o)||!!o._isBuffer)};function K(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function Tt(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&K(o.slice(0,0))}var Bt=At,jt=Et,Ot=typeof Float64Array<"u";function Dt(o,n){return o[0]-n[0]}function Rt(){var o=this.stride,n=new Array(o.length),r;for(r=0;r<n.length;++r)n[r]=[Math.abs(o[r]),r];n.sort(Dt);var p=new Array(n.length);for(r=0;r<p.length;++r)p[r]=n[r][1];return p}function Ct(o,n){var r=["View",n,"d",o].join("");n<0&&(r="View_Nil"+o);var p=o==="generic";if(n===-1){var s="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+o+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",b=new Function(s);return b()}else if(n===0){var s="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+o+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(p?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(p?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",b=new Function("TrivialArray",s);return b(U[o][0])}var s=["'use strict'"],a=Bt(n),u=a.map(function(h){return"i"+h}),i="this.offset+"+a.map(function(h){return"this.stride["+h+"]*i"+h}).join("+"),f=a.map(function(h){return"b"+h}).join(","),l=a.map(function(h){return"c"+h}).join(",");s.push("function "+r+"(a,"+f+","+l+",d){this.data=a","this.shape=["+f+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+o+"'","proto.dimension="+n),s.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(h){return"this.shape["+h+"]"}).join("*"),"}})"),n===1?s.push("proto.order=[0]"):(s.push("Object.defineProperty(proto,'order',{get:"),n<4?(s.push("function "+r+"_order(){"),n===2?s.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):n===3&&s.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):s.push("ORDER})")),s.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),p?s.push("return this.data.set("+i+",v)}"):s.push("return this.data["+i+"]=v}"),s.push("proto.get=function "+r+"_get("+u.join(",")+"){"),p?s.push("return this.data.get("+i+")}"):s.push("return this.data["+i+"]}"),s.push("proto.index=function "+r+"_index(",u.join(),"){return "+i+"}"),s.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+a.map(function(h){return["(typeof i",h,"!=='number'||i",h,"<0)?this.shape[",h,"]:i",h,"|0"].join("")}).join(",")+","+a.map(function(h){return"this.stride["+h+"]"}).join(",")+",this.offset)}");var g=a.map(function(h){return"a"+h+"=this.shape["+h+"]"}),w=a.map(function(h){return"c"+h+"=this.stride["+h+"]"});s.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+g.join(",")+","+w.join(","));for(var c=0;c<n;++c)s.push("if(typeof i"+c+"==='number'&&i"+c+">=0){d=i"+c+"|0;b+=c"+c+"*d;a"+c+"-=d}");s.push("return new "+r+"(this.data,"+a.map(function(h){return"a"+h}).join(",")+","+a.map(function(h){return"c"+h}).join(",")+",b)}"),s.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+a.map(function(h){return"a"+h+"=this.shape["+h+"]"}).join(",")+","+a.map(function(h){return"b"+h+"=this.stride["+h+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var c=0;c<n;++c)s.push("if(typeof i"+c+"==='number'){d=i"+c+"|0;if(d<0){c+=b"+c+"*(a"+c+"-1);a"+c+"=ceil(-a"+c+"/d)}else{a"+c+"=ceil(a"+c+"/d)}b"+c+"*=d}");s.push("return new "+r+"(this.data,"+a.map(function(h){return"a"+h}).join(",")+","+a.map(function(h){return"b"+h}).join(",")+",c)}");for(var A=new Array(n),T=new Array(n),c=0;c<n;++c)A[c]="a[i"+c+"]",T[c]="b[i"+c+"]";s.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(h,D){return h+"=("+h+"===undefined?"+D+":"+h+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+A.join(",")+","+T.join(",")+",this.offset)}"),s.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(var c=0;c<n;++c)s.push("if(typeof i"+c+"==='number'&&i"+c+">=0){c=(c+this.stride["+c+"]*i"+c+")|0}else{a.push(this.shape["+c+"]);b.push(this.stride["+c+"])}");s.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),s.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(h){return"shape["+h+"]"}).join(",")+","+a.map(function(h){return"stride["+h+"]"}).join(",")+",offset)}");var b=new Function("CTOR_LIST","ORDER",s.join(`
`));return b(U[o],Rt)}function Pt(o){if(jt(o))return"buffer";if(Ot)switch(Object.prototype.toString.call(o)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(o)?"array":"generic"}var U={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function Ut(o,n,r,p){if(o===void 0){var l=U.array[0];return l([])}else typeof o=="number"&&(o=[o]);n===void 0&&(n=[o.length]);var s=n.length;if(r===void 0){r=new Array(s);for(var a=s-1,u=1;a>=0;--a)r[a]=u,u*=n[a]}if(p===void 0){p=0;for(var a=0;a<s;++a)r[a]<0&&(p-=(n[a]-1)*r[a])}for(var i=Pt(o),f=U[i];f.length<=s+1;)f.push(Ct(i,f.length-1));var l=f[s+1];return l(o,n,r,p)}var xt=Ut;const It=Z(xt);function V(o,n,r){const p=o.slice();return p[5]=n[r],p[6]=n,p[7]=r,p}function G(o){let n,r,p=o[6],s=o[7],a;const u=()=>o[1](r,p,s),i=()=>o[1](null,p,s);return{c(){n=M("div"),r=M("canvas"),a=X(),this.h()},l(f){n=S(f,"DIV",{class:!0});var l=F(n);r=S(l,"CANVAS",{width:!0,height:!0}),F(r).forEach(O),a=J(l),l.forEach(O),this.h()},h(){P(r,"width","280"),P(r,"height","280"),P(n,"class","column is-3")},m(f,l){H(f,n,l),q(n,r),u(),q(n,a)},p(f,l){o=f,(p!==o[6]||s!==o[7])&&(i(),p=o[6],s=o[7],u())},d(f){f&&O(n),i()}}}function Mt(o){let n,r,p,s;n=new mt({});let a=$(o[0]),u=[];for(let i=0;i<a.length;i+=1)u[i]=G(V(o,a,i));return{c(){ct(n.$$.fragment),r=X(),p=M("div");for(let i=0;i<u.length;i+=1)u[i].c();this.h()},l(i){ht(n.$$.fragment,i),r=J(i),p=S(i,"DIV",{class:!0});var f=F(p);for(let l=0;l<u.length;l+=1)u[l].l(f);f.forEach(O),this.h()},h(){P(p,"class","columns")},m(i,f){lt(n,i,f),H(i,r,f),H(i,p,f);for(let l=0;l<u.length;l+=1)u[l]&&u[l].m(p,null);s=!0},p(i,[f]){if(f&1){a=$(i[0]);let l;for(l=0;l<a.length;l+=1){const g=V(i,a,l);u[l]?u[l].p(g,f):(u[l]=G(g),u[l].c(),u[l].m(p,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=a.length}},i(i){s||(pt(n.$$.fragment,i),s=!0)},o(i){dt(n.$$.fragment,i),s=!1},d(i){i&&(O(r),O(p)),yt(n,i),bt(u,i)}}}function St(o,n,r){const p=[{epoch:9,digit:0,vec:9,canvas:null},{epoch:9,digit:1,vec:9,canvas:null},{epoch:9,digit:2,vec:9,canvas:null}];it(()=>{a()});const s=f=>{const l=[[103,0,31],[178,24,43],[214,96,77],[244,165,130],[253,219,199],[247,247,247],[209,229,240],[146,197,222],[67,147,195],[33,102,172],[5,48,97]];f=Math.max(-1,Math.min(1,f));const g=(f+1)*5,w=Math.floor(g),c=g-w,A=l[Math.min(w,10)],T=l[Math.min(w+1,10)];return!A||!T?[0,0,0]:A.map((b,h)=>Math.round(b*(1-c)+T[h]*c))};async function a(){const l=await new wt().load("tensors/vecs.npy"),g=It(l.data,l.shape);p.forEach(w=>{u(g.pick(w.epoch,w.digit,w.vec),w.canvas)})}function u(f,l){const g=l.getContext("2d");if(!g)return;const w=g.createImageData(28,28);for(let c=0;c<784;c++){const A=s(f.get(c)*3/255);w.data[c*4]=A[0],w.data[c*4+1]=A[1],w.data[c*4+2]=A[2],w.data[c*4+3]=255}g.imageSmoothingEnabled=!1,g.putImageData(w,0,0),g.drawImage(l,0,0,28,28,0,0,280,280)}function i(f,l,g){at[f?"unshift":"push"](()=>{l[g].canvas=f,r(0,p)})}return[p,i]}class Lt extends ut{constructor(n){super(),ft(this,n,St,Mt,st,{})}}export{Lt as component};
