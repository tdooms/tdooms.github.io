---
interface Props {
	title: string;
	conference: string;
	labels?: string[];
	description: string;
	link: string;
	external?: boolean;
}

const { title, conference, labels = [], description, link, external = false } = Astro.props;

// Function to get badge variant based on label type
const getBadgeVariant = (label: string) => {
	const lowerLabel = label.toLowerCase();
	if (lowerLabel === 'spotlight' || lowerLabel === 'oral') return 'badge-secondary';
	if (lowerLabel === 'workshop') return 'badge-primary';
	return 'badge-primary';
};
---

<a 
	class="block bg-white rounded-2xl p-6 shadow-[0_2px_8px_rgba(0,0,0,0.08)] hover:shadow-[0_8px_16px_rgba(0,0,0,0.12)] hover:scale-[1.01] transition-all duration-300 no-underline"
	href={link} 
	target={external ? '_blank' : '_self'}
>
	<!-- Desktop Layout: Side by side -->
	<div class="hidden md:flex gap-6">
		<div class="flex-1">
			<h5 class="text-2xl font-semibold text-gray-900 mb-3">{title}</h5>
			<p class="text-base text-gray-600">{description}</p>
		</div>
		
		<div class="flex flex-col items-end gap-2 text-right shrink-0">
			<span class="font-bold text-lg text-gray-800">{conference}</span>
			<div class="flex flex-wrap gap-1.5 justify-end">
				{labels.map((label) => (
					<span class={`badge badge-soft badge-large ${getBadgeVariant(label)}`}>
						{label}
					</span>
				))}
			</div>
		</div>
	</div>

	<!-- Mobile Layout: Stacked -->
	<div class="md:hidden">
		<h5 class="text-2xl font-semibold text-gray-900 mb-3">{title}</h5>
		<p class="text-base text-gray-600 mb-3">{description}</p>
		
		<div class="flex items-center justify-between gap-3 pt-2 border-t border-gray-200">
			<span class="font-bold text-base text-gray-800">{conference}</span>
			<div class="flex flex-wrap gap-1.5">
				{labels.map((label) => (
					<span class={`badge badge-soft badge-large ${getBadgeVariant(label)}`}>
						{label}
					</span>
				))}
			</div>
		</div>
	</div>
</a>
